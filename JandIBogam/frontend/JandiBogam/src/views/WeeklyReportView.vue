<template>
  <!-- íƒ€ì´í‹€ -->
  <div class="text-center mb-7">
    <h1 class="text-2xl font-bold text-gray-800 mb-2">ì£¼ê°„ ê±´ê°• ë¦¬í¬íŠ¸</h1>
    <p class="text-gray-600 text-base">{{ reportDateRange }}</p>
  </div>
  <div class="min-h-screen bg-brand-lightbg">
    <main class="max-w-4xl w-full mx-auto px-4 py-10">
      <!-- ê±´ê°•ì ìˆ˜ ì¹´ë“œ -->
      <div class="bg-green-50 rounded-lg shadow-md p-10 mb-8 text-center">
        <div class="text-5xl mb-3">
          <span v-if="healthScore >= 80">ğŸ˜Š</span>
          <span v-else-if="healthScore < 40">ğŸ˜”</span>
          <span v-else>ğŸ˜</span>
        </div>
        <h2 class="text-4xl font-bold text-gray-800 mb-3">{{ healthScore }}ì </h2>
        <p class="text-gray-700 mb-1">ì´ë²ˆ ì£¼ ê±´ê°• ê´€ë¦¬ê°€ ë§¤ìš° ìš°ìˆ˜í•©ë‹ˆë‹¤!</p>
        <p class="text-gray-600 text-base">
          ê·œì¹™ì ì¸ ì‹ì‚¬ì™€ ê¾¸ì¤€í•œ ì•½ë¬¼ ë³µìš©ìœ¼ë¡œ ê±´ê°•í•œ ìƒí™œì„ ìœ ì§€í•˜ê³  ê³„ì‹œë„¤ìš”.
        </p>
      </div>

      <!-- AI ê¸°ë°˜ ì¶”ì²œì‹ë‹¨ -->
      <div class="bg-white rounded-lg shadow p-8 mb-8">
        <div class="flex items-center mb-5">
          <div class="bg-blue-100 rounded-full p-2 mr-2">
            <span class="text-2xl">ğŸ¤–</span>
          </div>
          <h3 class="text-xl font-bold text-gray-800">AI ê¸°ë°˜ ë¶„ì„ ë° ì¶”ì²œ ì‹ë‹¨</h3>
        </div>
        <p class="text-gray-700 mb-6">
          ì´ë²ˆ ì£¼ì—ëŠ” ë‹¨ë°±ì§ˆê³¼ ì±„ì†Œ ìœ„ì£¼ì˜ ê· í˜• ì¡íŒ ì‹ë‹¨ì„ ìœ ì§€í•˜ì…¨ìœ¼ë‚˜, ê³¼ì¼ ì„­ì·¨ê°€ ë‹¤ì†Œ
          ë¶€ì¡±í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì£¼ì—ëŠ” ì•„ì¹¨ ì‹ì‚¬ì— ê³„ì ˆ ê³¼ì¼ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ì¢‹ê² ìŠµë‹ˆë‹¤.
        </p>

        <div class="flex gap-4">
          <!-- ì™¼ìª½ ì—´ (index 0, 1) -->
          <div class="flex-1 space-y-4">
            <div
              v-for="(meal, index) in recommendedMeals.slice(0, 2)"
              :key="'left-' + index"
              class="border rounded-lg shadow-sm p-4 bg-white"
            >
              <h4 class="font-medium text-gray-800 mb-3">ë‹¤ìŒ ì£¼ ì¶”ì²œ ì‹ë‹¨</h4>
              <div>
                <div class="flex items-center mb-2">
                  <span class="text-green-500 font-medium mr-2">ì•„ì¹¨</span>
                  <span class="text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full">{{
                    meal.breakfast
                  }}</span>
                </div>
                <div class="flex items-center mb-2">
                  <span class="text-amber-500 font-medium mr-2">ì ì‹¬</span>
                  <span class="text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full">{{
                    meal.lunch
                  }}</span>
                </div>
                <div class="flex items-center">
                  <span class="text-blue-500 font-medium mr-2">ì €ë…</span>
                  <span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full">{{
                    meal.dinner
                  }}</span>
                </div>
              </div>
            </div>
          </div>

          <!-- ì˜¤ë¥¸ìª½ ì—´ (index 2, 3) -->
          <div class="flex-1 space-y-4">
            <div
              v-for="(meal, index) in recommendedMeals.slice(2, 4)"
              :key="'right-' + index"
              class="border rounded-lg shadow-sm p-4 bg-white"
            >
              <h4 class="font-medium text-gray-800 mb-3">ë‹¤ìŒ ì£¼ ì¶”ì²œ ì‹ë‹¨</h4>
              <div>
                <div class="flex items-center mb-2">
                  <span class="text-green-500 font-medium mr-2">ì•„ì¹¨</span>
                  <span class="text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full">{{
                    meal.breakfast
                  }}</span>
                </div>
                <div class="flex items-center mb-2">
                  <span class="text-amber-500 font-medium mr-2">ì ì‹¬</span>
                  <span class="text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full">{{
                    meal.lunch
                  }}</span>
                </div>
                <div class="flex items-center">
                  <span class="text-blue-500 font-medium mr-2">ì €ë…</span>
                  <span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full">{{
                    meal.dinner
                  }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ë§ì¶¤ ê±´ê°• ì¡°ì–¸ -->
      <div class="bg-green-50 rounded-lg shadow-md p-8 mb-8">
        <h3 class="text-xl font-bold text-gray-800 mb-5 flex items-center">
          <span class="text-blue-500 mr-2">ğŸ’§</span>
          ë§ì¶¤ ê±´ê°• ì¡°ì–¸
        </h3>
        <ul class="space-y-4">
          <li class="flex items-start">
            <span class="text-blue-500 mr-3">ğŸ’§</span>
            <span class="text-gray-700">í•˜ë£¨ 8ì”ì˜ ë¬¼ì„ ë§ˆì‹œë©´ í˜ˆì•¡ ìˆœí™˜ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.</span>
          </li>
          <li class="flex items-start">
            <span class="text-green-500 mr-3">ğŸ¥—</span>
            <span class="text-gray-700">ë§¤ ì‹ì‚¬ë§ˆë‹¤ ì±„ì†Œë¥¼ ì¶©ë¶„íˆ ì„­ì·¨í•˜ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤.</span>
          </li>
          <li class="flex items-start">
            <span class="text-red-500 mr-3">ğŸ©¸</span>
            <span class="text-gray-700">ì‹¤ë‚´ ì˜¨ë„ê°€ ê¸°ì˜¨ì°¨ê°€ ì‹¬í•˜ë©´ ê±´ê°•ì— ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤.</span>
          </li>
        </ul>
      </div>
    </main>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'

const healthScore = ref(85)

const recommendedMeals = [
  {
    breakfast: 'ì˜¤íŠ¸ë°€, ê²¬ê³¼ë¥˜, ê³„ì ˆê³¼ì¼',
    lunch: 'í˜„ë¯¸ë°¥, ì‹œê¸ˆì¹˜ ëœì¥êµ­, ê³ ë“±ì–´ ì•„ê·€ì°œ',
    dinner: 'ì¡ê³¡ë°¥, ì½©ë‚˜ë¬¼êµ­, ë‘ë¶€ì¡°ë¦¼',
  },
  {
    breakfast: 'í†µë°€ë¹µ, ê³„ë€í”„ë¼ì´, ì•¼ì±„ì¹´ë ˆ',
    lunch: 'í˜„ë¯¸ë°¥, ë¯¸ì—­êµ­, ë¶ˆê³ ê¸°, ë¶€ì¶”ë¬´ì¹¨',
    dinner: 'ì¡ê³¡ë°¥, ë‹¤ì‹œë§ˆ ëœì¥êµ­, ìƒì„ êµ¬ì´',
  },
  {
    breakfast: 'ìš”ê±°íŠ¸, ë¸”ë£¨ë² ë¦¬, ê·¸ë˜ë†€ë¼',
    lunch: 'í˜„ë¯¸ë°¥, ì½©ë‚˜ë¬¼êµ­, ê³ êµ¬ë§ˆêµ¬ì´',
    dinner: 'í˜„ë¯¸ë°¥, ë²„ì„¯ì°Œê°œ, ê³„ë€ë§ì´',
  },
  {
    breakfast: 'ê³„ë€ ìŠ¤ë¬´ë””, í†µê³¡ë¬¼ë¹µ',
    lunch: 'í˜„ë¯¸ë°¥, ì²­êµ­ì¥, ì—°ì–´êµ¬ì´',
    dinner: 'ì¡ê³¡ë°¥ ìƒëŸ¬ë“œ, í˜„ë¯¸ë°¥, ì°¸ì¹˜êµ­',
  },
]

const reportDateRange = computed(() => {
  const today = new Date()
  const endDate = new Date(today)
  endDate.setDate(today.getDate() - today.getDay())
  const startDate = new Date(endDate)
  startDate.setDate(endDate.getDate() - 6)
  const formatDate = (date) => {
    const year = date.getFullYear()
    const month = date.getMonth() + 1
    const day = date.getDate()
    return `${year}ë…„ ${month}ì›” ${day}ì¼`
  }
  return `${formatDate(startDate)} - ${formatDate(endDate)}`
})
</script>

<style scoped>
.bg-brand-lightbg {
  background-color: #f6faf7;
}
.bg-brand-primary {
  background-color: #6a7d73;
}
.bg-brand-hover {
  background-color: #5a6b63;
}
.text-brand-primary {
  color: #6a7d73;
}
.border-brand-primary {
  border-color: #6a7d73;
}
</style>
