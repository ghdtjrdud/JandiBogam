<template>
  <div class="min-h-screen bg-brand-lightbg">
    <!-- Main Content - í—¤ë” ë„ˆë¹„ì— ë§ì¶¤ -->
    <main class="w-full max-w-[1024px] px-8 mx-auto py-10">
      <!-- Family Members Section -->
      <section class="bg-[#C7D7CB] bg-opacity-50 rounded-2xl p-6 mb-6 shadow-md">
        <div class="flex justify-between items-center mb-5">
          <p></p>
        </div>

        <!-- ê°€ì¡± êµ¬ì„±ì› ë‚˜ì—´ -->
        <div class="flex justify-center flex-wrap gap-x-12 gap-y-8 pb-2">
          <!-- Family Member Profiles -->
          <div
            v-for="(member, index) in familyMembers"
            :key="index"
            class="flex flex-col items-center cursor-pointer transition-all duration-200 hover:scale-105"
            @click="goToMealList(member.id)"
          >
            <div
              class="w-24 h-24 bg-white rounded-full flex items-center justify-center mb-2 shadow-family-profile"
            >
              <div class="w-20 h-20 rounded-full bg-amber-300 flex items-center justify-center">
                <span class="emoji-large">{{ getMemberEmoji(index) }}</span>
              </div>
            </div>
            <h3 class="text-base text-gray-800 font-medium">{{ member.name }}</h3>
            <p class="text-xs text-gray-600">{{ member.relation }}</p>
          </div>

          <!-- Add Member Button -->
          <div
            class="flex flex-col items-center cursor-pointer transition-all duration-200 hover:scale-105"
          >
            <div
              class="w-24 h-24 bg-white rounded-full flex items-center justify-center mb-2 shadow-family-profile"
            >
              <div class="w-20 h-20 rounded-full bg-white flex items-center justify-center">
                <span class="emoji-large text-green-500">+</span>
              </div>
            </div>
            <h3 class="text-base text-gray-800 font-medium">ê°€ì¡± ì¶”ê°€</h3>
            <p class="text-xs text-gray-600">ì—°ê²°í•˜ê¸°</p>
          </div>
        </div>
      </section>

      <!-- Feature Cards Section - 3ì—´ ê·¸ë¦¬ë“œë¡œ ê°€ë¡œ ë°°ì¹˜ -->
      <section class="grid grid-cols-3 gap-4 mb-6">
        <!-- ì‹ë‹¨ ê¸°ë¡ ì¹´ë“œ -->
        <div
          class="card bg-base-100 shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer h-full"
          @click="goToPage('meal')"
        >
          <div class="card-body items-center text-center p-5">
            <div class="mb-3 text-4xl">ğŸ½ï¸</div>
            <h2 class="text-lg font-bold text-gray-800 mb-1">ì‹ë‹¨ ê¸°ë¡</h2>
            <p class="text-sm text-gray-600">ì˜¤ëŠ˜ì˜ ì‹ì‚¬ë¥¼ ê¸°ë¡í•´ì£¼ì„¸ìš”</p>
          </div>
        </div>

        <!-- ë³µì•½ ì²´í¬ ì¹´ë“œ -->
        <div
          class="card bg-base-100 shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer h-full"
          @click="goToPage('medication')"
        >
          <div class="card-body items-center text-center p-5">
            <div class="mb-3 text-4xl">ğŸ’Š</div>
            <h2 class="text-lg font-bold text-gray-800 mb-1">ë³µì•½ ì²´í¬</h2>
            <p class="text-sm text-gray-600">ì•½ ë³µìš©ì„ í™•ì¸í•´ì£¼ì„¸ìš”</p>
          </div>
        </div>

        <!-- ì£¼ê°„ ë¦¬í¬íŠ¸ ì¹´ë“œ -->
        <div
          class="card bg-base-100 shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer h-full"
          @click="goToPage('report')"
        >
          <div class="card-body items-center text-center p-5">
            <div class="mb-3 text-4xl">ğŸ“Š</div>
            <h2 class="text-lg font-bold text-gray-800 mb-1">ì£¼ê°„ ë¦¬í¬íŠ¸</h2>
            <p class="text-sm text-gray-600">ì´ë²ˆ ì£¼ ê±´ê°• ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
          </div>
        </div>
      </section>

      <!-- Health Tips Section - í¬ê¸° ì¡°ì ˆ -->
      <section class="bg-brand-accent bg-opacity-30 rounded-lg p-5 shadow-sm">
        <div class="flex items-center mb-3">
          <span class="text-xl mr-2">â¤ï¸</span>
          <h2 class="text-lg font-bold text-brand-primary">ê±´ê°• íŒ</h2>
        </div>
        <div class="space-y-3">
          <div class="flex items-start">
            <span class="text-xl mr-2 mt-1">ğŸ</span>
            <p class="text-sm text-gray-700">
              ì‹ì‚¬ ì „ ë¬¼ì„ ì¶©ë¶„íˆ ë§ˆì‹œë©´ ì‹ìš•ì„ ì¡°ì ˆí•˜ëŠ” ë° ë„ì›€ì´ ë˜ë©°, í•˜ë£¨ì— ìµœì†Œ 8ì”ì˜ ë¬¼ì„
              ì„­ì·¨í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
            </p>
          </div>
          <div class="flex items-start">
            <span class="text-xl mr-2 mt-1">â°</span>
            <p class="text-sm text-gray-700">
              ì •í•´ì§„ ì‹œê°„ì— ì•½ì„ ë³µìš©í•˜ëŠ” ê²ƒì´ ì•½íš¨ë¥¼ ë†’ì´ëŠ” ë° ì¤‘ìš”í•˜ë©°, ê·œì¹™ì ì¸ ë³µìš© ìŠµê´€ì„
              ë“¤ì´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
            </p>
          </div>
          <div class="flex items-start">
            <span class="text-xl mr-2 mt-1">ğŸš¶</span>
            <p class="text-sm text-gray-700">
              ìµœê·¼ ì¼êµì°¨ê°€ ì‹¬í•˜ë¯€ë¡œ ì™¸ì¶œ ì‹œ ì²´ì˜¨ ì¡°ì ˆì— ì‹ ê²½ ì“°ëŠ” ê²ƒì´ ê°ê¸° ì˜ˆë°©ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.
            </p>
          </div>
        </div>
      </section>
    </main>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()

// Sample family members data
const familyMembers = ref([
  {
    id: 1,
    name: 'ê¹€ì˜í¬',
    relation: 'ê°€ì¡±',
  },
  {
    id: 2,
    name: 'ê¹€ì² ìˆ˜',
    relation: 'ê°€ì¡±',
  },
  {
    id: 3,
    name: 'ê¹€ë¯¸ì˜',
    relation: 'ê°€ì¡±',
  },
  {
    id: 4,
    name: 'ê¹€ì˜ìˆ˜',
    relation: 'ì¹œêµ¬',
  },
])

// ì´ëª¨ì§€ ë§¤í•‘ í•¨ìˆ˜
const getMemberEmoji = (index) => {
  const emojis = ['ğŸ‘µ', 'ğŸ‘´', 'ğŸ‘©', 'ğŸ‘¨']
  return emojis[index % emojis.length]
}

// ê°€ì¡± êµ¬ì„±ì› í´ë¦­ ì‹œ ê·¸ë“¤ì˜ ì‹ë‹¨ ê¸°ë¡ ì¡°íšŒí˜ì´ì§€ë¡œ ë„˜ì–´ê°€
const goToMealList = (memberId) => {
  router.push(`/meals/${memberId}`)
}

//ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ê¸°ì¤€: ì‹ë‹¨ ê¸°ë¡, ë³µì•½ ì²´í¬, ì£¼ê°„ ë¦¬í¬íŠ¸ í˜ì´ì§€ë¡œ ì´ë™
const goToPage = (page) => {
  switch (page) {
    case `meal`:
      router.push('/meals')
      break
    case 'medication':
      router.push('/medication')
      break
    case 'report':
      router.push('/report')
      break
    default:
      break
  }
}
</script>

<style scoped>
/* ì´ëª¨ì§€ í¬ê¸° í‚¤ìš°ê¸° */
.emoji-large {
  font-size: 1.5rem;
  line-height: 1;
}

/* ê°€ì¡± êµ¬ì„±ì› ì¹´ë“œ ê°„ê²© ì¡°ì • */
.gap-x-12 {
  column-gap: 3rem; /* 48px */
}

.gap-y-8 {
  row-gap: 2rem; /* 32px */
}

/* í”„ë¡œí•„ ê·¸ë¦¼ì */
.shadow-family-profile {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.bg-brand-accent {
  background-color: #c7d7cb;
}

.bg-brand-lightbg {
  background-color: #f6faf7;
}

.text-brand-primary {
  color: #6a7d73;
}

/* ì¹´ë“œ í˜¸ë²„ íš¨ê³¼ */
.hover\:scale-105:hover {
  transform: scale(1.05);
  transition: transform 0.2s ease-in-out;
}
.hover\:shadow-md:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* íŠ¸ëœì§€ì…˜ íš¨ê³¼ */
.transition-all {
  transition-property: all;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* ì¹´ë“œ ë‚´ ìš”ì†Œ ê°„ê²© ì¡°ì • */
.card-body {
  padding: 1.25rem;
}

/* ì „ì²´ ë ˆì´ì•„ì›ƒì´ í—¤ë” ë„ˆë¹„ì— ë§ë„ë¡ ì„¤ì • */
@media (min-width: 768px) {
  main {
    max-width: 1280px; /* ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
  }
}

/* ì‘ì€ í™”ë©´ì—ì„œ ì¹´ë“œ ë ˆì´ì•„ì›ƒ ì¡°ì • */
@media (max-width: 767px) {
  .grid-cols-3 {
    grid-template-columns: 1fr;
  }
}
</style>
